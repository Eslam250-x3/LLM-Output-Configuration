<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مفاهيم هندسة الموجهات مع أمثلة وأهداف</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-color: #005f73; /* Tealish Blue - لون أساسي جديد */
            --secondary-color: #0a9396; /* Lighter Teal - لون ثانوي */
            --accent-color-1: #94d2bd; /* Pale Cyan/Teal - لون تمييز 1 */
            --accent-color-2: #e9d8a6; /* Pale Gold - لون تمييز 2 (لأزرار معينة) */
            --highlight-keyword-color: #ae2012; /* Dark Red for keywords */
            --settings-keyword-color: #0077b6; /* Bright Blue for settings */
            --text-color: #212529; /* Dark Gray for text */
            --light-text-color: #f8f9fa; /* Light color for text on dark backgrounds */
            --bg-color: #e9ecef; /* Light Gray background */
            --card-bg-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
            line-height: 1.6; /* تحسين تباعد الأسطر الافتراضي */
        }
        
        .presentation-container {
            height: 100vh;
            width: 100vw;
            position: relative;
            overflow: hidden;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--bg-color), #f8f9fa); /* تدرج خلفية أنعم */
            opacity: 0;
            transform: translateX(100%); 
            transition: transform 0.7s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.6s ease-out; /* تعديل الانيميشن */
        }
        
        .slide.active {
            opacity: 1;
            transform: translateX(0);
        }

        .slide.exit-to-left { transform: translateX(-100%); transition-delay: 0s; } /* تسريع الخروج */
        .slide.exit-to-right { transform: translateX(100%); transition-delay: 0s; }
        
        .slide-content {
            max-width: 980px; /* زيادة طفيفة في العرض */
            width: 92%;
            margin: 0 auto;
            padding: 2rem 2.5rem; /* زيادة الحشو */
            border-radius: 12px; /* زيادة دائرية الحواف */
            background-color: var(--card-bg-color); 
            box-shadow: 0 8px 25px var(--shadow-color); /* ظل أنعم وأكثر انتشارًا */
            position: relative;
            overflow-y: auto; 
            max-height: 90vh; 
        }
        
        .slide-title {
            font-size: 2.3rem; 
            margin-bottom: 1.2rem;
            color: var(--primary-color);
            text-align: center;
            font-weight: 700;
        }
        
        .slide-subtitle {
            font-size: 1.7rem;
            margin-top: 1.2rem; 
            margin-bottom: 0.8rem;
            color: var(--secondary-color);
            font-weight: 600;
            border-bottom: 2px solid var(--accent-color-1); /* خط سفلي للتمييز */
            padding-bottom: 0.3rem;
            display: inline-block; /* لجعل الخط السفلي يلتف حول النص فقط */
        }
        
        .slide-text {
            font-size: 1.15rem; 
            line-height: 1.75;
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .slide-list {
            list-style-type: none;
            margin: 1rem 0;
            padding-right: 1.2rem; /* زيادة طفيفة */
        }
        
        .slide-list li {
            margin-bottom: 0.8rem;
            padding-right: 1.8rem; /* زيادة طفيفة */
            position: relative;
            font-size: 1.15rem;
            line-height: 1.75;
        }
        
        .slide-list li::before {
            content: '❖'; /* تغيير شكل النقطة */
            color: var(--secondary-color);
            font-weight: normal; /* أخف */
            font-size: 1.1em; /* حجم مناسب للرمز */
            position: absolute;
            right: 0;
            top: 0.05em; 
        }

        .highlight-keyword {
            color: var(--highlight-keyword-color); 
            font-weight: 600;
        }
         .settings-keyword { 
            color: var(--settings-keyword-color); 
            font-weight: 600;
        }
        
        .navigation {
            position: fixed;
            bottom: 1.5rem; 
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 1.2rem; /* زيادة المسافة بين الأزرار */
            z-index: 100;
        }
        
        .nav-btn {
            padding: 0.75rem 1.8rem; /* زيادة الحشو */
            background-color: var(--primary-color);
            color: var(--light-text-color);
            border: none;
            border-radius: 25px; /* أكثر دائرية */
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.25s ease-in-out;
            box-shadow: 0 5px 15px rgba(0, 95, 115, 0.2); /* ظل متناسق */
        }
        
        .nav-btn:hover:not(:disabled) {
            background-color: var(--secondary-color);
            transform: translateY(-3px) scale(1.03); /* تأثير رفع وتكبير طفيف */
            box-shadow: 0 8px 20px rgba(0, 95, 115, 0.3);
        }
        
        .nav-btn:disabled {
            background-color: #adb5bd; /* لون رمادي أفتح للمعطل */
            color: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-bar {
            position: fixed;
            top: 0;
            right: 0;
            width: 0;
            height: 8px; /* زيادة سمك الشريط */
            background: linear-gradient(90deg, var(--accent-color-1), var(--secondary-color)); /* تدرج لوني للشريط */
            transition: width 0.4s ease;
            z-index: 1000; /* ليكون فوق كل شيء */
            border-radius: 0 0 4px 4px; /* حواف دائرية سفلية */
        }
        
        .slide-number {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            font-size: 0.9rem; 
            color: #6c757d; /* لون أغمق قليلاً */
            background-color: rgba(255,255,255,0.7);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }
        
        .decoration {
            position: absolute;
            z-index: -1;
            opacity: 0.05; /* أكثر شفافية */
            pointer-events: none;
        }
        
        .decoration-1 {
            top: 5%; left: 5%; width: 180px; height: 180px; /* أكبر قليلاً */
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; /* شكل عضوي */
            background: linear-gradient(45deg, var(--accent-color-1), var(--secondary-color));
            animation: morph 8s ease-in-out infinite alternate;
        }
        .decoration-2 {
            bottom: 8%; right: 8%; width: 120px; height: 120px;
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; /* شكل عضوي مختلف */
            background: linear-gradient(45deg, var(--accent-color-2), #fca311); /* استخدام لون تمييز آخر */
            animation: morph 10s ease-in-out infinite alternate-reverse;
        }

        @keyframes morph {
            0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; transform: rotate(0deg) scale(1); }
            50% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; transform: rotate(180deg) scale(1.1); }
            100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; transform: rotate(360deg) scale(1); }
        }

        .home-navigation-buttons {
            display: grid; /* استخدام Grid لتوزيع أفضل */
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* توزيع مرن */
            gap: 1rem; 
            margin-top: 1.5rem;
            margin-bottom: 1.5rem; /* إضافة هامش سفلي */
        }

        .home-nav-btn {
            padding: 0.8rem 1.5rem; 
            color: var(--primary-color); /* لون النص من اللون الأساسي */
            background-color: var(--card-bg-color); /* خلفية بيضاء */
            border: 2px solid var(--primary-color); /* إطار بلون أساسي */
            border-radius: 10px; 
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-size: 1rem; 
            font-weight: 600;
            transition: all 0.25s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 95, 115, 0.1); 
            text-align: center;
            display: flex; /* لتوسيط الأيقونة والنص */
            align-items: center;
            justify-content: center;
        }
         .home-nav-btn .btn-icon { /* تنسيق للأيقونة داخل الزر */
            margin-left: 8px; /* مسافة بين النص والأيقونة (في RTL) */
            font-size: 1.1em;
         }

         .home-nav-btn:hover {
            background-color: var(--primary-color); 
            color: var(--light-text-color);
            transform: translateY(-4px) scale(1.02); 
            box-shadow: 0 7px 18px rgba(0, 95, 115, 0.2);
        }
         .home-nav-btn.example-btn { 
            border-color: var(--accent-color-2);
            color: #c97c06; /* لون نص متناسق مع البرتقالي */
        }
        .home-nav-btn.example-btn:hover {
            background-color: var(--accent-color-2); 
            color: var(--text-color); /* لون نص أغمق على خلفية برتقالية */
            border-color: var(--accent-color-2);
        }
         .home-nav-btn.goals-btn { 
            border-color: var(--secondary-color);
            color: var(--secondary-color);
        }
        .home-nav-btn.goals-btn:hover {
            background-color: var(--secondary-color); 
            color: var(--light-text-color);
            border-color: var(--secondary-color);
        }

        .home-return-btn {
            position: absolute;
            top: 1.2rem; 
            right: 1.2rem; 
            padding: 0.5rem 1rem;
            background-color: var(--text-color); 
            color: var(--light-text-color);
            border: none;
            border-radius: 50px; /* دائري تمامًا */
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.25s ease-in-out;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
            z-index: 10; 
            display: flex;
            align-items: center;
            justify-content: center;
        }
         .home-return-btn .btn-icon {
            margin-left: 5px;
         }

        .home-return-btn:hover {
            background-color: var(--secondary-color); 
            transform: scale(1.08); 
            box-shadow: 0 5px 12px rgba(0,0,0,0.2);
        }

        .designer-credit {
            font-size: 0.85rem;
            color: #6c757d;
            text-align: center;
            margin-top: 2rem;
            padding-bottom: 0.5rem; /* لضمان عدم الالتصاق بحافة البطاقة */
        }
        
        @media (max-width: 768px) {
            .slide { padding: 1rem; }
            .slide-content { padding: 1.5rem; width: 95%; max-height: 88vh;} /* تعديل طفيف */
            .slide-title { font-size: 1.8rem; margin-bottom: 1rem; }
            .slide-subtitle { font-size: 1.4rem; margin-bottom: 0.6rem;}
            .slide-text, .slide-list li { font-size: 1rem; line-height: 1.65;}
            .nav-btn { padding: 0.6rem 1.2rem; font-size: 0.85rem; }
            .home-navigation-buttons { grid-template-columns: 1fr; } /* عمود واحد على الشاشات الصغيرة */
            .home-nav-btn { font-size: 0.9rem; padding: 0.7rem 1.2rem; }
            .home-return-btn { top: 0.8rem; right: 0.8rem; padding: 0.4rem 0.8rem; font-size: 0.75rem;}
            .slide-number { font-size: 0.8rem; bottom: 0.8rem; left: 0.8rem;}
            .designer-credit { font-size: 0.75rem; margin-top: 1.5rem; }
        }
         @media (max-width: 480px) {
            .slide-title { font-size: 1.5rem; }
            .slide-subtitle { font-size: 1.2rem; }
            .slide-text, .slide-list li { font-size: 0.9rem; }
         }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide active" id="slide-1">
            <div class="slide-content">
                <h1 class="slide-title">مفاهيم هندسة الموجهات</h1>
                <p class="slide-text" style="text-align: center; margin-bottom: 1.5rem;">عرض تقديمي حول الإعدادات المهمة للنماذج اللغوية الكبيرة مع أمثلة وأهداف تطبيقية.</p>
                
                <div class="home-navigation-buttons">
                    <button class="home-nav-btn" data-target-slide="1">طول المخرجات <span class="btn-icon">📏</span></button>
                    <button class="home-nav-btn" data-target-slide="2">ضوابط العينات <span class="btn-icon">🎲</span></button>
                    <button class="home-nav-btn" data-target-slide="3">درجة الحرارة <span class="btn-icon">🌡️</span></button>
                    <button class="home-nav-btn" data-target-slide="4">أعلى K و P <span class="btn-icon">📊</span></button>
                    <button class="home-nav-btn example-btn" data-target-slide="5">مثال شارح <span class="btn-icon">💡</span></button> 
                    <button class="home-nav-btn goals-btn" data-target-slide="10">أهداف الاستخدام <span class="btn-icon">🎯</span></button> 
                </div>
                <p class="designer-credit">تصميم: إسلام محمد - eslam.mohamed@nagwa.com</p>
                <div class="decoration decoration-1"></div>
                <div class="decoration decoration-2"></div>
                <div class="slide-number">1 / 15</div>
            </div>
        </div>
        
        <div class="slide" id="slide-2">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">طول المخرجات (<span class="highlight-keyword">Output Length</span>)</h2>
                <h3 class="slide-subtitle">ما هو؟</h3>
                <p class="slide-text">هو إعداد مهم يحدد عدد <span class="highlight-keyword">التوكنات</span> (الكلمات أو أجزاء الكلمات) التي سيقوم النموذج بتوليدها كاستجابة للموجه الذي قدمته.</p>
                <h3 class="slide-subtitle">أهميته وتأثيره:</h3>
                <ul class="slide-list">
                    <li><strong>التكلفة والموارد:</strong> توليد عدد أكبر من <span class="highlight-keyword">التوكنات</span> يتطلب المزيد من العمليات الحسابية من النموذج، مما يؤدي إلى استهلاك أعلى للطاقة، واحتمالية إبطاء زمن الاستجابة، وزيادة التكاليف (إذا كنت تستخدم خدمة مدفوعة تعتمد على عدد <span class="highlight-keyword">التوكنات</span>).</li>
                    <li><strong>ليس للإيجاز بالضرورة:</strong> تقليل طول المخرجات لا يجعل النموذج بالضرورة أكثر إيجازًا أو بلاغة في أسلوبه. هو ببساطة يجعل النموذج يتوقف عن توليد المزيد من <span class="highlight-keyword">التوكنات</span> عند الوصول إلى الحد المحدد. إذا كنت تحتاج إلى مخرجات قصيرة، قد تحتاج أيضًا إلى <span class="highlight-keyword">هندسة الموجه</span> نفسه ليوجه النموذج نحو الإيجاز.</li>
                    <li><strong>مهم لبعض التقنيات:</strong> تقييد طول المخرجات يكون ضروريًا بشكل خاص لبعض تقنيات التلقين المتقدمة (مثل <span class="highlight-keyword">ReAct</span> المذكورة لاحقًا في النص)، حيث قد يستمر النموذج في توليد <span class="highlight-keyword">توكنات</span> غير مفيدة بعد أن يكون قد قدم بالفعل الإجابة المطلوبة.</li>
                </ul>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">2 / 15</div>
            </div>
        </div>
        <div class="slide" id="slide-3">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">ضوابط أخذ العينات (<span class="highlight-keyword">Sampling Controls</span>)</h2>
                <h3 class="slide-subtitle">كيف يعمل النموذج:</h3>
                <p class="slide-text">النماذج اللغوية الكبيرة لا تتنبأ رسميًا <span class="highlight-keyword">بتوكن</span> واحد فقط تالي. بدلاً من ذلك، هي تتنبأ <span class="highlight-keyword">باحتمالات</span> لكل <span class="highlight-keyword">توكن</span> ممكن في مفرداتها ليكون هو <span class="highlight-keyword">التوكن</span> التالي.</p>
                <h3 class="slide-subtitle">ما هي ضوابط أخذ العينات:</h3>
                <p class="slide-text">هي الإعدادات التي تحدد كيفية معالجة هذه <span class="highlight-keyword">الاحتمالات المتوقعة للتوكنات</span> لاختيار <span class="highlight-keyword">توكن</span> واحد فعلي سيتم إخراجه.</p>
                <h3 class="slide-subtitle">أشهر الضوابط:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة)</li>
                    <li><span class="settings-keyword">Top-K</span> (أعلى K)</li>
                    <li><span class="settings-keyword">Top-P</span> (أعلى P)</li>
                </ul>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">3 / 15</div>
            </div>
        </div>
        <div class="slide" id="slide-4">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">درجة الحرارة (<span class="settings-keyword">Temperature</span>)</h2>
                <h3 class="slide-subtitle">ما هي:</h3>
                <p class="slide-text">تتحكم في درجة <span class="highlight-keyword">العشوائية</span> عند اختيار <span class="highlight-keyword">التوكن</span> التالي.</p>
                <h3 class="slide-subtitle">تأثيرها:</h3>
                <ul class="slide-list">
                    <li><strong>درجات حرارة منخفضة (مثل 0، وهو ما يسمى "<span class="highlight-keyword">greedy decoding</span>" أو الاختيار الجشع):</strong> تجعل الاستجابة أكثر <span class="highlight-keyword">تحديدًا وحسمًا</span>. في هذه الحالة، يتم دائمًا اختيار <span class="highlight-keyword">التوكن</span> ذو الاحتمالية الأعلى (مع ملاحظة أنه إذا كان هناك توكنان لهما نفس أعلى احتمالية، فقد لا تحصل دائمًا على نفس المخرج بسبب طريقة معالجة التعادل). هذا مناسب للموجهات التي تتوقع إجابة واحدة صحيحة أو محددة جدًا.</li>
                    <li><strong>درجات حرارة مرتفعة:</strong> تؤدي إلى مخرجات أكثر <span class="highlight-keyword">تنوعًا، إبداعًا، أو غير متوقعة</span>. كلما ارتفعت درجة الحرارة، أصبحت جميع <span class="highlight-keyword">التوكنات</span> متساوية في احتمالية اختيارها.</li>
                </ul>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">4 / 15</div>
            </div>
        </div>
        <div class="slide" id="slide-5">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">أعلى K وأعلى P (<span class="settings-keyword">Top-K & Top-P</span>)</h2>
                <h3 class="slide-subtitle">ما هما:</h3>
                <p class="slide-text">إعدادان لأخذ العينات يُستخدمان في النماذج اللغوية الكبيرة لتقييد اختيار <span class="highlight-keyword">التوكن</span> التالي ليأتي من بين <span class="highlight-keyword">التوكنات</span> ذات أعلى الاحتمالات المتوقعة.</p>
                <h3 class="slide-subtitle">الهدف المشترك:</h3>
                 <p class="slide-text">مثل درجة الحرارة، يتحكمان في عشوائية وتنوع النص المُولّد.</p>
                <h3 class="slide-subtitle"><span class="settings-keyword">Top-K</span>:</h3>
                <ul class="slide-list">
                    <li><strong>كيف يعمل:</strong> يختار أعلى K <span class="highlight-keyword">توكنات</span> هي الأكثر احتمالاً من التوزيع المتوقع للنموذج.</li>
                    <li><strong>التأثير:</strong> قيمة <span class="settings-keyword">Top-K</span> الأعلى تجعل مخرجات النموذج أكثر إبداعًا وتنوعًا. قيمة <span class="settings-keyword">Top-K</span> الأقل تجعل المخرجات أكثر تقييدًا وواقعية. <span class="settings-keyword">Top-K</span> بقيمة 1 يعادل الاختيار الجشع (<span class="highlight-keyword">greedy decoding</span>).</li>
                </ul>
                <h3 class="slide-subtitle"><span class="settings-keyword">Top-P</span> (المعروف أيضًا باسم <span class="highlight-keyword">Nucleus Sampling</span> - أخذ عينات النواة):</h3>
                 <ul class="slide-list">
                    <li><strong>كيف يعمل:</strong> يختار أعلى <span class="highlight-keyword">التوكنات</span> التي لا يتجاوز مجموع احتمالاتها التراكمية قيمة معينة (P). تتراوح قيم P من 0 (الاختيار الجشع) إلى 1 (جميع <span class="highlight-keyword">التوكنات</span> في مفردات النموذج).</li>
                </ul>
                <h3 class="slide-subtitle">الاختيار بينهما:</h3>
                <p class="slide-text">أفضل طريقة للاختيار بين <span class="settings-keyword">Top-K</span> و <span class="settings-keyword">Top-P</span> (أو استخدامهما معًا) هي التجربة وملاحظة أيهما ينتج النتائج التي تبحث عنها.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">5 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-6">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">مثال توضيحي: الطباخ الآلي وضوابط الإبداع</h2>
                <p class="slide-text">تخيل أنك تتعامل مع <span class="highlight-keyword">طباخ آلي</span> مبدع جدًا (النموذج اللغوي)، والموجه (prompt) هو الوصفة اللي بتعطيها له. لكن عشان تطلع الأكلة (النص المُولّد) زي ما أنت عايز بالظبط، محتاج تضبط شوية "مقابض" في هذا الطباخ. هذه المقابض هي اللي بنسميها <span class="highlight-keyword">ضوابط أخذ العينات (Sampling Controls)</span>.</p>
                <p class="slide-text">النموذج اللغوي، لما بيجي يكتب كلمة بعد كلمة، مش بيختار كلمة واحدة وخلاص. هو بيكون عنده قائمة بكل الكلمات الممكنة، ولكل كلمة "<span class="highlight-keyword">احتمالية</span>" إنها تكون الكلمة المناسبة التالية. ضوابط أخذ العينات دي بتساعده يقرر إزاي يختار من القائمة دي.</p>
                <h3 class="slide-subtitle">السيناريو:</h3>
                <p class="slide-text">أعطينا النموذج اللغوي الجملة دي: "<span class="highlight-keyword">الجو اليوم مشمس و...</span>" وطلبنا منه يكملها. النموذج الآن يفكر في الكلمات التالية المحتملة:</p>
                <ul class="slide-list">
                    <li>جميل (احتمالية عالية جدًا)</li>
                    <li>رائع (احتمالية عالية)</li>
                    <li>دافئ (احتمالية متوسطة)</li>
                    <li>بارد (احتمالية منخفضة جدًا، لأن الجو مشمس)</li>
                    <li>مظلم (احتمالية شبه مستحيلة)</li>
                    <li>أزرق (احتمالية منخفضة، قد تكون إبداعية لكن غير مباشرة)</li>
                    <li>سيارة (احتمالية منخفضة جدًا، غير منطقية)</li>
                </ul>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">6 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-7">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">مثال: 1. <span class="settings-keyword">Temperature</span> (مقبض الإبداع)</h2>
                <p class="slide-text">فكر فيها كـ "<span class="highlight-keyword">مقبض الإبداع أو الجرأة</span>" للطباخ.</p>
                <h3 class="slide-subtitle">درجة حرارة منخفضة (قريبة من 0، مثلاً 0.1 أو 0.2):</h3>
                <p class="slide-text"><strong>السلوك:</strong> الطباخ بيكون حذر جدًا ومحافظ. هيختار الكلمة اللي شبه متأكد إنها الأفضل والأكثر توقعًا. هيتجاهل تقريبًا أي خيارات غريبة أو إبداعية.</p>
                <p class="slide-text"><strong>في مثالنا:</strong> لو درجة الحرارة 0.1، النموذج غالبًا هيختار "<span class="highlight-keyword">جميل</span>" أو "<span class="highlight-keyword">رائع</span>" لأنهما الأكثر منطقية واحتمالية. الإجابة هتكون مباشرة ومتوقعة.</p>
                <p class="slide-text"><strong>متى تستخدمها؟</strong> لما تكون عايز إجابة دقيقة، واقعية، أو لما يكون فيه إجابة "صح" واحدة (زي تلخيص نص، إجابة على سؤال مباشر، كتابة كود).</p>
                <h3 class="slide-subtitle">درجة حرارة مرتفعة (قريبة من 1 أو أعلى، مثلاً 0.8 أو 1.0):</h3>
                <p class="slide-text"><strong>السلوك:</strong> الطباخ بيكون جرئ ومغامر. مستعد يجرب خيارات أقل توقعًا، يمكن تكون إبداعية أو حتى غريبة شوية. بيعطي فرصة أكبر للكلمات اللي احتماليتها أقل.</p>
                <p class="slide-text"><strong>في مثالنا:</strong> لو درجة الحرارة 0.9، النموذج ممكن يختار "<span class="highlight-keyword">جميل</span>"، بس ممكن برضه يفاجئك ويختار "<span class="highlight-keyword">أزرق</span>" (كأنه بيقول السماء زرقاء وصافية) أو حتى كلمة غير متوقعة لو السياق يسمح بشيء من الخيال. الإجابة هتكون أكثر تنوعًا ويمكن تكون مفاجئة.</p>
                <p class="slide-text"><strong>متى تستخدمها؟</strong> لما تكون عايز أفكار جديدة، كتابة قصص، عصف ذهني، أو أي مهمة تحتاج لمسة إبداعية وغير تقليدية.</p>
                <h3 class="slide-subtitle">درجة حرارة = 0 (<span class="highlight-keyword">Greedy Decoding</span>):</h3>
                <p class="slide-text"><strong>السلوك:</strong> الطباخ بيكون "جشع" جدًا، هيختار دائمًا وأبدًا الكلمة صاحبة أعلى احتمالية بدون أي تردد.</p>
                <p class="slide-text"><strong>في مثالنا:</strong> هيختار "<span class="highlight-keyword">جميل</span>" كل مرة (لو هي الأعلى احتمالية).</p>
                <p class="slide-text"><em>تحذير صغير:</em> لو درجة الحرارة عالية أوي، ممكن النص يبدأ يبقى مفكك ومش منطقي، كأن الطباخ زود البهارات لدرجة إن الأكلة مبقتش مفهومة!</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">7 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-8">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">مثال: 2. <span class="settings-keyword">Top-K</span> (تحديد عدد الخيارات)</h2>
                <p class="slide-text">فكر فيها كـ "<span class="highlight-keyword">تحديد عدد الخيارات المسموح بها</span>" للطباخ.</p>
                <h3 class="slide-subtitle">السلوك:</h3>
                <p class="slide-text">بدل ما الطباخ يبص على كل الكلمات الممكنة في اللغة، أنت بتقوله: "بص يا طباخ، اختار الكلمة التالية من أفضل K كلمات فقط حسب الاحتمالية".</p>
                 <h3 class="slide-subtitle">مثال:</h3>
                <ul class="slide-list">
                    <li><strong>لو K = 1 (<span class="settings-keyword">Top-K</span> = 1):</strong> نفس سلوك درجة الحرارة 0. الطباخ هيبص على الكلمة رقم 1 في قائمة الاحتمالات ويختارها. في مثالنا، هيختار "<span class="highlight-keyword">جميل</span>".</li>
                    <li><strong>لو K = 3 (<span class="settings-keyword">Top-K</span> = 3):</strong> الطباخ هيبص على أعلى 3 كلمات احتمالية (مثلاً: "جميل"، "رائع"، "دافئ"). بعدين هيختار واحدة منهم (وهنا ممكن درجة الحرارة تلعب دور في الاختيار من بين التلاتة دول، لو مفعلة معاه).</li>
                    <li><strong>لو K = 100 (<span class="settings-keyword">Top-K</span> = 100):</strong> الطباخ هيكون عنده 100 خيار يختار منهم. ده بيدي تنوع أكبر من K=3.</li>
                </ul>
                <h3 class="slide-subtitle">التأثير:</h3>
                <ul class="slide-list">
                    <li><strong>K صغيرة:</strong> يجعل الاختيارات محدودة أكثر، وبالتالي النص بيكون أكثر تركيزًا ويمكن أقل إبداعًا.</li>
                    <li><strong>K كبيرة:</strong> يسمح بخيارات أكثر، وبالتالي النص ممكن يكون أكثر تنوعًا وإبداعًا.</li>
                </ul>
                <p class="slide-text"><strong>متى تستخدمها؟</strong> للمساعدة في التحكم في مدى "جنون" النموذج. لو مش عايز النموذج يشطح بعيد أوي، ممكن تستخدم <span class="settings-keyword">Top-K</span> مع قيمة معقولة.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">8 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-9">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">مثال: 3. <span class="settings-keyword">Top-P</span> (أخذ عينات النواة)</h2>
                <p class="slide-text">فكر فيها كـ "<span class="highlight-keyword">تحديد كتلة الاحتمالية</span>" اللي الطباخ هيختار منها.</p>
                <h3 class="slide-subtitle">السلوك:</h3>
                <p class="slide-text">بدل ما تحدد عدد ثابت من الكلمات (زي <span class="settings-keyword">Top-K</span>)، أنت هنا بتقول للطباخ: "اجمع احتمالات الكلمات من الأعلى للأقل، ولما مجموع الاحتمالات دي يوصل لقيمة P اللي حددتها، وقف. اختار كلمتك من المجموعة دي بس."</p>
                <h3 class="slide-subtitle">مثال:</h3>
                <p class="slide-text">لنفترض الاحتمالات كالتالي: جميل: 0.4، رائع: 0.3، دافئ: 0.15، أزرق: 0.05، بارد: 0.03 ...</p>
                <ul class="slide-list">
                    <li><strong>لو P = 0.7 (<span class="settings-keyword">Top-P</span> = 0.7):</strong>
                        <br>"جميل" (0.4) &lt; 0.7. نضيفها للقائمة. المجموع الآن 0.4.
                        <br>"رائع" (0.3). 0.4 + 0.3 = 0.7. نضيفها للقائمة. المجموع الآن 0.7.
                        <br>وصلنا لـ P. الطباخ هيختار فقط من بين ("<span class="highlight-keyword">جميل</span>"، "<span class="highlight-keyword">رائع</span>").
                    </li>
                    <li><strong>لو P = 0.9 (<span class="settings-keyword">Top-P</span> = 0.9):</strong>
                        <br>"جميل" (0.4) -&gt; المجموع 0.4
                        <br>"رائع" (0.3) -&gt; المجموع 0.7
                        <br>"دافئ" (0.15) -&gt; المجموع 0.85
                        <br>"أزرق" (0.05) -&gt; المجموع 0.9
                        <br>وصلنا لـ P. الطباخ هيختار من بين ("<span class="highlight-keyword">جميل</span>"، "<span class="highlight-keyword">رائع</span>"، "<span class="highlight-keyword">دافئ</span>"، "<span class="highlight-keyword">أزرق</span>").
                    </li>
                </ul>
                <h3 class="slide-subtitle">التأثير:</h3>
                <p class="slide-text"><span class="settings-keyword">Top-P</span> يعتبر طريقة أكثر ديناميكية من <span class="settings-keyword">Top-K</span>. لو فيه كلمات قليلة احتمالاتها عالية جدًا، <span class="settings-keyword">Top-P</span> هيعمل قائمة صغيرة. لو احتمالات الكلمات متوزعة بشكل أكبر، <span class="settings-keyword">Top-P</span> هيعمل قائمة أكبر. ده بيساعد يحافظ على جودة النص مع إعطاء بعض المرونة.</p>
                <ul class="slide-list">
                    <li><strong>P قريبة من 0:</strong> سلوك مشابه لـ <span class="settings-keyword">Top-K</span>=1 أو درجة حرارة 0.</li>
                    <li><strong>P قريبة من 1:</strong> يسمح للنموذج بالاختيار من عدد كبير جدًا من الكلمات، مما يزيد العشوائية.</li>
                </ul>
                <p class="slide-text"><strong>متى تستخدمها؟</strong> كتير من الناس بيفضلوها على <span class="settings-keyword">Top-K</span> لأنها بتتكيف مع توزيع الاحتمالات. بتساعد في موازنة الجودة مع الإبداع.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">9 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-10">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">مثال: كيف تعمل الضوابط معًا؟ ونصيحة أخيرة</h2>
                <h3 class="slide-subtitle">إزاي بيشتغلوا مع بعض؟</h3>
                <p class="slide-text">عادةً، أنت مش بتستخدم كل دول بأقصى قيمهم مرة واحدة.</p>
                <ul class="slide-list">
                    <li>ممكن تستخدم <span class="settings-keyword">Temperature</span> لوحدها.</li>
                    <li>ممكن تستخدم <span class="settings-keyword">Top-K</span> مع <span class="settings-keyword">Temperature</span> (النموذج يختار أعلى K، ثم درجة الحرارة تحدد العشوائية في الاختيار من هذه الـ K).</li>
                    <li>ممكن تستخدم <span class="settings-keyword">Top-P</span> مع <span class="settings-keyword">Temperature</span> (النموذج يحدد "نواة" الكلمات باستخدام P، ثم درجة الحرارة تحدد العشوائية في الاختيار من هذه النواة).</li>
                    <li>في بعض الأنظمة (زي Vertex AI المذكورة في النص)، لو استخدمت <span class="settings-keyword">Top-K</span> و <span class="settings-keyword">Top-P</span> معًا، النموذج بيأخذ الكلمات اللي بتحقق الشرطين، وبعدين يطبق عليهم <span class="settings-keyword">Temperature</span>.</li>
                </ul>
                <h3 class="slide-subtitle">نصيحة للمبتدئ:</h3>
                <p class="slide-text">ابدأ بـ <span class="settings-keyword">Temperature</span>. جرب قيم مختلفة وشوف إزاي النص بيتغير.</p>
                <ul class="slide-list">
                    <li>عايز إجابة مباشرة؟ خليها <span class="highlight-keyword">0.2</span>.</li>
                    <li>عايز شوية إبداع؟ جرب <span class="highlight-keyword">0.7</span> أو <span class="highlight-keyword">0.8</span>.</li>
                </ul>
                <p class="slide-text">بعدين، لو حسيت إن النص بيشطح أوي مع درجة حرارة عالية، ممكن تبدأ تجرب تضيف <span class="settings-keyword">Top-P</span> (مثلاً بقيمة <span class="highlight-keyword">0.9</span> أو <span class="highlight-keyword">0.95</span>) عشان "تلم" الدنيا شوية من غير ما تخنق الإبداع.</p>
                <p class="slide-text">الأمر كله <span class="highlight-keyword">تجربة</span>! كل نموذج وكل مهمة ممكن تحتاج ضبط مختلف. أهم حاجة تفهم كل مقبض بيعمل إيه عشان تقدر توجه طباخك الآلي المبدع ده صح!</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">10 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-11">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">الهدف 1: مقال إخباري دقيق وموجز</h2>
                <h3 class="slide-subtitle">المطلوب:</h3>
                <p class="slide-text">نص واقعي، يلتزم بالحقائق، بدون إبداع أو آراء شخصية، ويكون واضحًا ومباشرًا.</p>
                <h3 class="slide-subtitle">الإعدادات المقترحة:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة): <span class="highlight-keyword">0.1</span> إلى <span class="highlight-keyword">0.3</span> (منخفضة جدًا). نريد أن يلتزم النموذج بالخيارات الأكثر ترجيحًا والأكثر واقعية.</li>
                    <li><span class="settings-keyword">Top-K</span>: يمكنك تركه غير مفعل أو ضبطه على قيمة عالية نسبيًا (مثل 40 أو 50) إذا كانت درجة الحرارة منخفضة جدًا، لأن درجة الحرارة ستكون هي المتحكم الرئيسي. أو يمكنك ضبطه على قيمة منخفضة (مثل 5 أو 10) لزيادة التأكيد على الخيارات الأكثر شيوعًا.</li>
                    <li><span class="settings-keyword">Top-P</span>: <span class="highlight-keyword">0.9</span> إلى <span class="highlight-keyword">0.95</span>. حتى مع الرغبة في الدقة، لا نريد أن يكون النص آليًا تمامًا. <span class="settings-keyword">Top-P</span> بقيمة معتدلة إلى عالية قليلاً (مع درجة حرارة منخفضة) يضمن أننا لا نستبعد خيارات جيدة قد تكون خارج أعلى بضعة توكنات مباشرة، ولكنه لا يزال يركز على الاحتمالات العالية.</li>
                </ul>
                <h3 class="slide-subtitle">لماذا هذا المزيج؟</h3>
                <p class="slide-text">درجة الحرارة المنخفضة تضمن الواقعية والالتزام بالحقائق. <span class="settings-keyword">Top-P</span> (أو <span class="settings-keyword">Top-K</span> مع درجة حرارة منخفضة) يساعد في منع النموذج من توليد عبارات نادرة جدًا أو غير ملائمة حتى لو كانت احتمالية كلمة واحدة عالية، مما يحافظ على تدفق طبيعي للنص الإخباري.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">11 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-12">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">الهدف 2: شعارات إعلانية مبتكرة</h2>
                <h3 class="slide-subtitle">المطلوب:</h3>
                <p class="slide-text">أفكار متنوعة، إبداعية، وغير متوقعة، حتى لو كانت بعضها غريبة أو تحتاج إلى تعديل.</p>
                <h3 class="slide-subtitle">الإعدادات المقترحة:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة): <span class="highlight-keyword">0.7</span> إلى <span class="highlight-keyword">1.0</span> (مرتفعة). نريد تشجيع النموذج على استكشاف خيارات أقل شيوعًا وأكثر إبداعًا.</li>
                    <li><span class="settings-keyword">Top-K</span>: يمكن تركه مرتفعًا (مثل 50 أو أكثر) أو غير مفعل. بما أننا نريد إبداعًا، لا نريد تقييد الخيارات كثيرًا بـ <span class="settings-keyword">Top-K</span>.</li>
                    <li><span class="settings-keyword">Top-P</span>: <span class="highlight-keyword">0.95</span> إلى <span class="highlight-keyword">1.0</span>. قيمة عالية لـ <span class="settings-keyword">Top-P</span> ستسمح للنموذج بالنظر في مجموعة واسعة من الكلمات المحتملة، مما يزيد من فرص ظهور أفكار فريدة.</li>
                </ul>
                <h3 class="slide-subtitle">لماذا هذا المزيج؟</h3>
                <p class="slide-text">درجة الحرارة المرتفعة هي المحرك الرئيسي للإبداع. <span class="settings-keyword">Top-P</span> المرتفع (أو <span class="settings-keyword">Top-K</span> المرتفع) يدعم هذا التوجه من خلال عدم استبعاد الكلمات التي قد تكون ذات احتمالية أقل ولكنها تؤدي إلى فكرة مبتكرة. قد تحتاج إلى توليد عدة استجابات بهذه الإعدادات ثم اختيار الأفضل منها.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">12 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-13">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">الهدف 3: قصة خيالية للأطفال</h2>
                <h3 class="slide-subtitle">المطلوب:</h3>
                <p class="slide-text">قصة ذات حبكة منطقية، لكنها تحتوي على بعض الأحداث أو الشخصيات غير التقليدية لإبقائها ممتعة.</p>
                <h3 class="slide-subtitle">الإعدادات المقترحة:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة): <span class="highlight-keyword">0.5</span> إلى <span class="highlight-keyword">0.7</span> (متوسطة). لا نريد أن تكون القصة عشوائية تمامًا، ولكن نريد بعض المرونة للأحداث غير المتوقعة.</li>
                    <li><span class="settings-keyword">Top-K</span>: يمكن ضبطه على قيمة متوسطة (مثل 20 إلى 40). هذا يمنع النموذج من الذهاب بعيدًا جدًا في الخيارات الغريبة التي قد تكسر تماسك القصة.</li>
                    <li><span class="settings-keyword">Top-P</span>: <span class="highlight-keyword">0.9</span> إلى <span class="highlight-keyword">0.98</span>. يسمح ببعض التنوع دون أن يكون واسعًا جدًا لدرجة فقدان الحبكة.</li>
                </ul>
                <h3 class="slide-subtitle">لماذا هذا المزيج؟</h3>
                <p class="slide-text">درجة الحرارة المتوسطة توازن بين التماسك والإبداع. <span class="settings-keyword">Top-K</span> (أو <span class="settings-keyword">Top-P</span>) بقيمة متوسطة إلى عالية قليلاً يساعد في توجيه الإبداع ضمن حدود معقولة، بحيث لا تصبح القصة غير مفهومة. أنت تريد "<span class="highlight-keyword">مفاجأة سارة</span>" وليس "<span class="highlight-keyword">فوضى</span>".</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">13 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-14">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">الهدف 4: ردود خدمة عملاء احترافية</h2>
                <h3 class="slide-subtitle">المطلوب:</h3>
                <p class="slide-text">ردود مهذبة، تظهر التفهم، وتقدم حلولاً، وتلتزم بنبرة العلامة التجارية.</p>
                <h3 class="slide-subtitle">الإعدادات المقترحة:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة): <span class="highlight-keyword">0.3</span> إلى <span class="highlight-keyword">0.5</span> (منخفضة إلى متوسطة). نريد أن تكون الردود متسقة ويمكن التنبؤ بها إلى حد ما، مع السماح ببعض المرونة في الصياغة لتجنب أن تبدو آلية تمامًا.</li>
                    <li><span class="settings-keyword">Top-K</span>: غير ضروري إذا كانت درجة الحرارة مضبوطة بشكل جيد.</li>
                    <li><span class="settings-keyword">Top-P</span>: <span class="highlight-keyword">0.95</span>. يساعد في الحفاظ على جودة اللغة وتجنب العبارات الغريبة مع السماح ببعض التنوع الطبيعي في الردود.</li>
                </ul>
                <h3 class="slide-subtitle">لماذا هذا المزيج؟</h3>
                <p class="slide-text">درجة الحرارة المنخفضة إلى المتوسطة تضمن الاحترافية والاتساق. <span class="settings-keyword">Top-P</span> يساعد في أن تبدو الردود طبيعية وليست مجرد تكرار لنفس الجمل. يجب أن تتجنب الردود "<span class="highlight-keyword">المبدعة</span>" جدًا هنا.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">14 / 15</div>
            </div>
        </div>

        <div class="slide" id="slide-15">
            <div class="slide-content">
                <button class="home-return-btn"><span class="btn-icon">🏠</span> الرئيسية</button>
                <h2 class="slide-title">الهدف 5: ترجمة مستند تقني دقيق</h2>
                <h3 class="slide-subtitle">المطلوب:</h3>
                <p class="slide-text">ترجمة دقيقة جدًا، لا مجال فيها للإبداع أو تغيير المعنى.</p>
                <h3 class="slide-subtitle">الإعدادات المقترحة:</h3>
                <ul class="slide-list">
                    <li><span class="settings-keyword">Temperature</span> (درجة الحرارة): <span class="highlight-keyword">0.0</span> إلى <span class="highlight-keyword">0.2</span> (قريبة جدًا من الصفر أو صفر).</li>
                    <li><span class="settings-keyword">Top-K</span>: <span class="highlight-keyword">1</span> (أو قيمة منخفضة جدًا مثل 3 أو 5 إذا كانت درجة الحرارة ليست صفرًا تمامًا).</li>
                    <li><span class="settings-keyword">Top-P</span>: يمكن تركه غير مفعل أو ضبطه على قيمة منخفضة جدًا (أقل من 0.9) إذا كانت درجة الحرارة ليست صفرًا.</li>
                </ul>
                <h3 class="slide-subtitle">لماذا هذا المزيج؟</h3>
                <p class="slide-text">الهدف هنا هو "<span class="highlight-keyword">Greedy Decoding</span>" أو ما يقاربه. نريد أن يختار النموذج الترجمة الأكثر احتمالاً ودقة في كل مرة. أي إبداع هنا قد يؤدي إلى أخطاء في الترجمة.</p>
                <div class="decoration decoration-1"></div><div class="decoration decoration-2"></div><div class="slide-number">15 / 15</div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" disabled>السابق</button>
            <button class="nav-btn" id="next-btn">التالي</button>
        </div>
        
        <div class="progress-bar" id="progress-bar"></div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            const homeNavButtons = document.querySelectorAll('.home-nav-btn');
            const homeReturnButtons = document.querySelectorAll('.home-return-btn');
            
            let currentSlide = 0;
            const totalSlides = slides.length; 
            
            function updateProgressBar() {
                const progress = ((currentSlide + 1) / totalSlides) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            function updateButtons() {
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
                
                if (currentSlide === totalSlides - 1) {
                    nextBtn.textContent = 'انتهى';
                } else {
                    nextBtn.textContent = 'التالي';
                }
            }
            
            function showSlide(index, direction = 'next') {
                if (index < 0 || index >= totalSlides || index === currentSlide) return;

                const oldSlide = slides[currentSlide];
                const newSlide = slides[index];

                oldSlide.classList.remove('active'); 
                
                if (index > currentSlide) { 
                    oldSlide.classList.add('exit-to-left');
                    newSlide.style.transform = 'translateX(100%)'; 
                } else { 
                    oldSlide.classList.add('exit-to-right');
                    newSlide.style.transform = 'translateX(-100%)'; 
                }
                
                setTimeout(() => {
                    oldSlide.classList.remove('exit-to-left', 'exit-to-right');
                }, 700); 

                newSlide.classList.add('active');
                requestAnimationFrame(() => { 
                    newSlide.style.transform = 'translateX(0)';
                });
                
                currentSlide = index;
                
                updateProgressBar();
                updateButtons();
                animateSlideContent(newSlide);
            }

            function animateSlideContent(activeSlide) {
                const elements = activeSlide.querySelectorAll('.slide-content > *:not(.decoration):not(.slide-number):not(.home-return-btn)');
                elements.forEach((el, idx) => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(20px)'; 
                    setTimeout(() => {
                        el.style.transition = 'opacity 0.45s ease-out, transform 0.45s ease-out';
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, idx * 70 + 70); 
                });
            }
            
            function nextSlide() {
                if (currentSlide < totalSlides - 1) {
                    showSlide(currentSlide + 1, 'next');
                }
            }
            
            function prevSlide() {
                if (currentSlide > 0) {
                    showSlide(currentSlide - 1, 'prev');
                }
            }
            
            nextBtn.addEventListener('click', nextSlide);
            prevBtn.addEventListener('click', prevSlide);

            homeNavButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetSlideIndex = parseInt(button.dataset.targetSlide); 
                    if (!isNaN(targetSlideIndex)) {
                        showSlide(targetSlideIndex);
                    }
                });
            });

            homeReturnButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showSlide(0); 
                });
            });
            
            document.addEventListener('keydown', function(e) {
                if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') {
                    return; 
                }
                if (e.key === 'ArrowRight') { 
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    prevSlide();
                }
            });
            
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });
            
            document.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeDistance = touchStartX - touchEndX;
                if (swipeDistance > 40) { 
                    nextSlide();
                } else if (swipeDistance < -40) { 
                    prevSlide();
                }
            }
            
            const initialSlide = slides[currentSlide];
            initialSlide.classList.add('active'); 
            initialSlide.style.transform = 'translateX(0)'; 
            updateProgressBar();
            updateButtons();
            animateSlideContent(initialSlide);
        });
    </script>
</body>
</html>
